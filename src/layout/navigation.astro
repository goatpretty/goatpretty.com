---
import Rss from '../components/icons/rss.astro';
import MoreMenu from '../components/moreMenu.astro';
import moreLinks from '../data/moreLinks';
import '../styles/global.css';

// ✅ 定义：桌面端只用 moreLinks，移动端额外添加 Blogs & About
const mobileMoreLinks = [
  ...moreLinks,
  { name: 'Blogs', url: '/' },
  { name: 'About', url: '/about' },
];
---

<header
  class="bg-bgLight dark:bg-bgDark
         h-16 w-full pl-6 pr-6 pt-4 pb-4 mb-1
         flex justify-between items-center
         z-50 relative"
>
  <!-- 🐐 左侧 Logo -->
  <div class="flex items-center">
    <a href="/" class="md:text-4xl text-2xl font-bold whitespace-nowrap">
      <span class="text-phBlack dark:text-phWhite">GoatPretty's</span>
      <span
        class="bg-phOrange rounded-md pt-1 pl-1 pr-1 ml-1
               text-phWhite dark:text-phBlack"
      >
        Blog
      </span>
    </a>
    <a href="/rss.xml">
      <Rss
        class="text-fontLight dark:text-fontDark md:h-6 md:w-6 h-6 w-6 ml-2"
      />
    </a>
  </div>

  <!-- 🧭 导航栏 -->
  <nav class="text-fontLight dark:text-fontDark text-xl relative">
    <ul class="flex items-center">
      <!-- 💻 桌面端：独立显示 Blogs / About -->
      <li class="hidden md:inline-flex flex-initial p-2 md:mr-2 mr-1">
        <a href="/">Blogs</a>
      </li>
      <li class="hidden md:inline-flex flex-initial p-2 md:mr-2 mr-1">
        <a href="/about">About</a>
      </li>

      <!-- ☰ 桌面端与移动端都显示，但传入的链接不同 -->
      <li class="inline-flex flex-initial p-2 relative">
        <!-- 桌面端：只传入 moreLinks -->
        <div class="hidden md:block">
          <MoreMenu links={moreLinks} />
        </div>

        <!-- 移动端：包含 Blogs / About -->
        <div class="md:hidden">
          <MoreMenu links={mobileMoreLinks} />
        </div>
      </li>
    </ul>
  </nav>
</header>
